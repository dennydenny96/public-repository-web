jQuery.fn.showAlert=function(){var e=$(this);setTimeout(function(){e.hide()},2e3),e.show()},jQuery.fn.showError=function(){$(this).show()};var convert={toMoney:function(e){return parseFloat(e)<0?"<span class='text-red'>"+numeral(e).format("0,0.00")+"</span>":numeral(e).format("0,0.00")},toMoney4Dec:function(e){return parseFloat(e)<0?"<span class='text-red'>"+numeral(e).format("0,0.0000")+"</span>":numeral(e).format("0,0.0000")},toMoneyColor:function(e){return parseFloat(e)<0?"<span class='text-red'>"+e+"</span>":e},toMoneyPlain:function(e){return numeral(e).format("0,0")},toOdds:function(e,t){return 3==t?numeral(e).format("0,0.00")+" %":parseFloat(e)<0?numeral(e).format("0,0.00"):numeral(e).format("0,0")},toColor:function(e){var t=e;switch(e.toLowerCase()){case"deposit":t="<span class='text-blue text-bold'>"+e+"</span>";break;case"withdraw":t="<span class='text-red text-bold'>"+e+"</span>";break;case"result":t="<span class='text-green'>"+e+"</span>"}return t},toDateDMY:function(e){return moment(e).format("DD-MMM-YYYY")},toDateYMD:function(e){return moment(new Date(e)).format("YYYY-MM-DD")},toDateTimeYMD:function(e){return moment(new Date(e)).format("YYYY-MM-DD")},toDateTimeSec:function(e){return moment(e).format("DD-MM-YYYY HH:mm:ss")},toDateTime:function(e){return moment(e).format("DD-MMM-YYYY HH:mm:ss")},toDateTimeNoSec:function(e){return moment(e).format("DD-MMM-YYYY HH:mm")},toDateTime_split:function(e){return moment(e).format("DD-MMM-YYYY")+"<br/>"+moment(e).format("HH:mm:ss")},toTime:function(e){return moment(e).format("HH:mm:ss")},statusWL:function(e){return"loss"==e.toLowerCase()?"<span class='text-red'>"+e+"</span>":"win"==e.toLowerCase()?"<span class='text-blue'>"+e+"</span>":"running"==e.toLowerCase()?"<span class='text-green'><i>"+e+"</i></span>":e}};function dec2(e){return numeral(Number.parseFloat(e.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0]).toFixed(2)).format("0,0.00")}function setModal_SubHeader(e,t){$($(e).attr("data-target")).find("#lblsubheader").html(t)}function getCombo(t,e,a,n,o,r){$.ajax({url:e,contentType:"application/x-www-form-urlencoded",type:"POST",data:a,success:function(e){var a=[];$.each(e.data,function(e,t){a.push('<option value="'+t.Key+'">'+t.Name+"</option>")}),t||a.shift(),$(n).html(a.join("")),o&&null!=o&&$(n).val(o),r&&r()},error:function(e,t,a){pageError(a)}})}function getCombo2(t,e,a,n,o,r){$.ajax({url:e,contentType:"application/x-www-form-urlencoded",type:"POST",data:a,success:function(e){var a=[];$.each(e.data,function(e,t){""!=t.Disabled?a.push('<option value="'+t.Key+'" disabled="'+t.Disabled+'">'+t.Name+"</option>"):a.push('<option value="'+t.Key+'" >'+t.Name+"</option>")}),t||a.shift(),$(n).html(a.join("")),o&&null!=o&&$(n).val(o),r&&r()},error:function(e,t,a){pageError(a)}})}function getComboCurrencyBank(t,e,a,n,o,r){$.ajax({url:e,contentType:"application/x-www-form-urlencoded",type:"POST",data:a,success:function(e){var a=[];t&&a.push('<option value="0">All</option>'),$.each(e.data,function(e,t){a.push('<option value="'+t.BankListID+'">'+t.Currency+" - "+t.BankDesc+"</option>")}),$(n).html(a.join("")),o&&null!=o&&$(n).val(o),r&&r()},error:function(e,t,a){pageError(a)}})}function getComboGroupBankAccount(t,e,a,n,o,r){$.ajax({url:e,contentType:"application/x-www-form-urlencoded",type:"POST",data:a,success:function(e){var a=[];t&&a.push('<option value="">All</option>'),$.each(e.data,function(e,t){a.push('<option value="'+t.BankAccountCode+'" >'+t.BankAccountNo+" - "+t.BankAccountName+" - "+t.BankLimitInterbank+"</option>")}),$(n).html(a.join("")),o&&null!=o&&$(n).val(o),r&&r()},error:function(e,t,a){pageError(a)}})}function getAjax(e,t,a){$.ajax({url:e,contentType:"application/x-www-form-urlencoded",type:"POST",data:t,success:function(e){a(e)},error:function(e,t,a){pageError(a)}})}function getUrlVars(){for(var e,t=[],a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),n=0;n<a.length;n++)e=a[n].split("="),t.push(e[0]),t[e[0]]=e[1];return t}function pageSuccess(){$("#SuccessDiv").showAlert(),$("#SuccessMsg").html("Successfully updated")}function pageError(e){$("#ErrDiv").showError(),$("#ErrMsg").html(e)}function modalSuccess(e){$(e+" #SuccessDivModal").showAlert(),$(e+" #SuccessMsgModal").html("Successfully updated")}function modalError(e,t,a){$(e+" #ErrDivModal").showError(),$(e+" #ErrMsgModal").html(t),a&&-1==a&&(window.top.location.href="/login?e="+t)}function getIcons(e){var t="";switch(e){case"delete":t="trash";break;case"addmenu":t="menu";break;case"addauth":case"addauthorization":t="setting";break;case"adduser":t="add";break;case"currency":case"editfee":case"editlimit":t="currency";break;case"editpin":t="pin";break;case"changepassword":t="password";break;case"deviceconfig":t="device";break;case"asgbankacc":t="bank";break;case"asgmerchant":t="add";break;case"asgbankpool":t="bank";break;case"merchantgroupinfo":t="info";break;case"adjustment":t="currency";break;default:t=e}return t}function table_legend(a,n,e,t){var o="",r="",s="";if(null!=t){_len=t.length;for(var i=0;i<_len;i++)r=t[i].split("~"),""!=o&&(o+="<span class='ml-4 mr-8'> | </span>"),o+="<i class='i fa icon icon_"+r[1]+"'> "+r[0]+" </i>"}e.map(function(e,t){r=e.toLowerCase().replace("frm",""),s=a[r.replace("add","")],"Y"==n[e]&&(""!=o&&(o+="<span class='ml-4 mr-8'> | </span>"),o+="<i class='i fa icon icon_"+getIcons(r)+"'> "+s+" </i>")}),""!=o?$("div.legend").html(o):$("div.row-info").hide()}function reinnitialDatePicker(e){$(".daterange").daterangepicker({ranges:{Today:[moment(e),moment(e)],Yesterday:[moment(e).subtract(1,"days"),moment(e).subtract(1,"days")],"Last 7 Days":[moment(e).subtract(6,"days"),moment(e)],"Last 30 Days":[moment(e).subtract(29,"days"),moment(e)],"This Month":[moment(e).startOf("month"),moment(e).endOf("month")],"Last Month":[moment(e).subtract(1,"month").startOf("month"),moment(e).subtract(1,"month").endOf("month")],"This Year":[moment(e).startOf("year"),moment(e).endOf("year")],"Last Year":[moment(e).subtract(1,"year").startOf("year"),moment(e).subtract(1,"year").endOf("year")]},startDate:moment(e),endDate:moment(e),alwaysShowCalendars:!0,locale:{format:"DD-MMM-YYYY"}}),$(".datetimerange").daterangepicker({timePicker:!0,timePicker24Hour:!0,ranges:{Today:[moment(e).startOf("day"),moment(e).endOf("day")],Yesterday:[moment(e).subtract(1,"days").startOf("day"),moment(e).subtract(1,"days").endOf("day")],"Last 7 Days":[moment(e).subtract(6,"days").startOf("day"),moment(e).endOf("day")],"Last 30 Days":[moment(e).subtract(29,"days").startOf("day"),moment(e).endOf("day")],"This Month":[moment(e).startOf("month"),moment(e).endOf("month")],"Last Month":[moment(e).subtract(1,"month").startOf("month"),moment(e).subtract(1,"month").endOf("month")],"This Year":[moment(e).startOf("year"),moment(e).endOf("year")],"Last Year":[moment(e).subtract(1,"year").startOf("year"),moment(e).subtract(1,"year").endOf("year")]},startDate:moment(e).startOf("day"),endDate:moment(e).endOf("day"),alwaysShowCalendars:!0,locale:{format:"DD-MMM-YYYY HH:mm"}})}function headerDatepicker(e){$(".daterange").daterangepicker({ranges:{All:[moment(e).subtract(45,"days"),moment(e)],Today:[moment(e),moment(e)],Yesterday:[moment(e).subtract(1,"days"),moment(e).subtract(1,"days")],"Last 7 Days":[moment(e).subtract(6,"days"),moment(e)],"Last 30 Days":[moment(e).subtract(29,"days"),moment(e)],"This Month":[moment(e).startOf("month"),moment(e).endOf("month")],"Last Month":[moment(e).subtract(1,"month").startOf("month"),moment(e).subtract(1,"month").endOf("month")],"This Year":[moment(e).startOf("year"),moment(e).endOf("year")],"Last Year":[moment(e).subtract(1,"year").startOf("year"),moment(e).subtract(1,"year").endOf("year")]},startDate:moment(e).subtract(45,"days"),endDate:moment(e),locale:{format:"DD-MMM-YYYY"}})}function dateParam(e,t,a){e.dateStart="All"==a?"01-Jan-1753 00:00":t[0]+" 00:00",e.dateEnd=t[1]+" 23:59"}function evCheckBoxAll(e,a){$(e).on("click",function(){var e=a.$("input[type=checkbox]").parents("tr:not(.status-no)"),t=a.$(".status-no");a.$("input[type=checkbox]").prop("checked",$(this).prop("checked")),1==a.$("input[type=checkbox]").prop("checked")?(e.addClass("highlight-checked"),t.addClass("highlight-statchecked")):(e.removeClass("highlight-checked"),t.removeClass("highlight-statchecked"))})}function evCheckBox(o,r,e,t){$(e).on("click",t,function(){var e=$(this).parents("tr"),t=$(this).data("bank"),a=$(this).data("id"),n=r.$("input[data-bank="+t+"]:checked").length;1==$(this).prop("checked")?(e.hasClass("status-no")?e.addClass("highlight-statchecked"):e.addClass("highlight-checked"),null!=t&&(n<=1&&r.$("input[data-bank="+t+"]").prop("disabled",!0),r.$("input[data-id="+a+"]").prop("disabled",!1)),null!=o&&r.$('input[type="checkbox"]:checked').length==r.$('input[type="checkbox"]').length&&$(o).prop("checked",!0)):(e.hasClass("status-no")?e.removeClass("highlight-statchecked"):e.removeClass("highlight-checked"),null!=o&&$(o).prop("checked",!1),null!=t&&r.$("input[data-bank="+t+"]").prop("disabled",!1))})}function checkedToFalse(e,t){$(e+' input[type="checkbox"]').prop("checked",!1),$(e).find("tr").removeClass("highlight-checked"),$(e).find("tr").removeClass("highlight-statchecked"),$(t+' input[type="checkbox"]').prop("checked",!1),$(t).find("tr").removeClass("highlight-checked"),$(t).find("tr").removeClass("highlight-statchecked")}function evLabelYesNo(e,t,a,n){var o="",r="";return r="Y"==e||0<e?(o="text-green","Yes"):(o="text-red","No"),null!=n&&(r+=n),""!=a&&"Y"==a?"<a id='"+t+"' href='#'><span class='"+o+"'>"+r+"</span></a>":"<span class='"+o+"'>"+r+"</span>"}function evLabelActiveInactive(e,t,a){var n="",o="";return o="Y"==e?(n="text-green","Active"):(n="text-red","Inactive"),""!=a&&"Y"==a?"<a id='"+t+"' href='#'><span class='"+n+"'>"+o+"</span></a>":"<span class='"+n+"'>"+o+"</span>"}function bankCode(e){var t="<div style='display:none;'>"+e+"</div>";switch(e){case"BCA":case"BMRI":case"BNI":case"BRI":case"ACB":case"BIDV":case"SCB":case"TCB":case"VCB":return"<img src='/dist/public/img/"+e+".png'>"+t+"</img>";default:return e}}$(document).ready(function(){$.fn.dataTable.ext.errMode=function(e,t,a){var n=a.split("-");0<n.length&&(a=n[1]),pageError(a)},$("#frmFilters :input").keypress(function(e){13==e.which&&(e.preventDefault(),$("#btnFilters").click())}),$("div.modal").each(function(){var t=$(this).attr("id");$(this).on("show.bs.modal",function(e){$(this).find(".alert-modal").hide(),t.toLowerCase().startsWith("frmadd")&&($("#"+t+" input").val(""),$("#"+t+" input[type=number]").val(""))})}),$("input:checkbox").iCheck({checkboxClass:"icheckbox_flat-orange"}),$('[data-toggle="popover"]').popover({container:"body"}),$(window).resize(function(){0!=$(".card form").length&&0==$(".card .card-body table").length||$(".card").first().css("min-height",window.innerHeight-40+"px")}),$("select.disabled, input.disabled, textarea.disabled").prop("disabled",!0)}),$(document).on("keyup",".force-upper",function(){$(this).val($(this).val().toUpperCase())}),$(document).on("keydown","*[data-timepicker]",function(e){var t=$(this).val();if(47<e.keyCode&&e.keyCode<58||8==e.keyCode){if(0==t.length)49<e.keyCode&&(e.preventDefault(),$(this).val(2));else if(1==t.length&&8!=e.keyCode)e.preventDefault(),51<e.keyCode&&2==t[0]?$(this).val(t+"3:"):$(this).val(t+String.fromCharCode(e.keyCode)+":");else if(2==t.length&&8!=e.keyCode)e.preventDefault(),52<e.keyCode?$(this).val(t+":5"):$(this).val(t+":"+String.fromCharCode(e.keyCode));else if(3==t.length&&8!=e.keyCode)52<e.keyCode&&(e.preventDefault(),$(this).val(t+"5"));else if(3==t.length&&8!=e.keyCode)52<e.keyCode&&(e.preventDefault(),$(this).val(t+"5"));else if(5==t.length&&8!=e.keyCode)e.preventDefault(),52<e.keyCode?$(this).val(t+":5"):$(this).val(t+":"+String.fromCharCode(e.keyCode));else if(6==t.length&&8!=e.keyCode)52<e.keyCode&&(e.preventDefault(),$(this).val(t+"5"));else if(7<t.length&&8!=e.keyCode)return e.preventDefault(),!1}else if(9!=e.keyCode)return e.preventDefault(),!1}),$(document).on("keyup","input.number",function(e){37<=e.which&&e.which<=40||$(this).val(function(e,t){return t.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")})});var handleValidNumber=function(e,t){function a(e){return(e=parseFloat(e,2))<10||100<e}var n=t.val(),o=n.split("");n.length>=e-1&&a(n)&&(0==o[0]&&o.shift(),4==o.length&&o.push(0)),n.length>=e&&a(n)&&(3==t.val().split(".")[0].length?(o.shift(),0==o[0]&&o.shift(),o.pop(),o.push(t.val().split(".")[1].split("")[1])):2<=t.val().split(".")[1].length&&o.pop(),t.val(o.join("")),t.keyup())};function resizeTable(){var e=$(window).height(),t=$(".dataTables_wrapper").height(),a=(Math.abs(e-t),$(".dataTables_scrollHead").height());a=37<a?104+a:143,$(".content .dataTables_scrollBody").css({height:$(window).height()-a+"px"})}function evDatatableResize(){resizeTable(),$(window).on("resize",function(){resizeTable()})}